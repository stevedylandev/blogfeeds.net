<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog Feeds</title>
    <link rel="apple-touch-icon" sizes="180x180" href="https://blogfeeds.net/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://blogfeeds.net/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://blogfeeds.net/favicon-16x16.png">
    <link rel="manifest" href="https://blogfeeds.net/site.webmanifest">
    <link rel="stylesheet" href="tailwindcss" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap" rel="stylesheet">
    <meta name="description" content="Creating organic networks through Blogs, RSS, and Feeds">

    <!-- Facebook Meta Tags -->
    <meta property="og:url" content="https://blogfeeds.net">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Blog Feeds">
    <meta property="og:description" content="Creating organic networks through Blogs, RSS, and Feeds">
    <meta property="og:image" content="/og.png">

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="blogfeeds.net">
    <meta property="twitter:url" content="https://blogfeeds.net">
    <meta name="twitter:title" content="Blog Feeds">
    <meta name="twitter:description" content="Creating organic networks through Blogs, RSS, and Feeds">
    <meta name="twitter:image" content="/og.png">
    <style>
      * {
        font-family: 'DM Sans', sans-serif;
      }
      details[open] summary svg {
        transform: rotate(90deg);
      }
    </style>
</head>
<body class="min-h-screen sm:py-0 py-8">
  <div class="flex flex-col items-center px-4 pt-12 pb-4">
    <div class="max-w-xl space-y-4 w-full">
      <a href="/" class="inline-flex items-center text-blue-600 hover:text-blue-800 mb-4 transition-colors">
        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
        Back
      </a>
      <img src="/feeds.svg" alt="Feeds" id="feeds" class="w-5/6 mx-auto py-4" />
      <p class="text-gray-700 mb-6">To help foster a community around the concept of Blog Feeds, this page acts as an aggregator of thsoe who have a feeds page on their blog. If that's you and you don't see your blog below, then submit the RSS feed below and we'll review it regularly to add it!</p>

      <form id="feedForm" class="space-y-4">
        <div>
          <label for="url" class="block text-sm font-medium text-gray-700 mb-2">Blog URL</label>
          <input
            type="url"
            id="url"
            name="url"
            required
            placeholder="https://example.com"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"
          />
        </div>

        <button
          type="submit"
          class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors"
        >
          Submit Feed
        </button>
      </form>

      <div id="message" class="hidden my-4 p-4 rounded-lg"></div>
    </div>
  </div>

  <section class="flex flex-col items-center px-4 mb-12">
    <div class="max-w-xl space-y-4 w-full">
      <div id="feedsList" class="space-y-3">
        <div class="text-center py-8 text-gray-500">Loading feeds...</div>
      </div>
    </div>
  </section>

  <script>
    // Load feeds on page load
    async function loadFeeds() {
      const feedsList = document.getElementById('feedsList');

      try {
        const response = await fetch('https://api.blogfeeds.net');
        const data = await response.json();

        if (data.subscriptions && data.subscriptions.length > 0) {
          feedsList.innerHTML = data.subscriptions.map(feed => {
            const blogUrl = new URL(feed.htmlUrl);
            const rootUrl = `${blogUrl.protocol}//${blogUrl.host}`;

            return `
              <div class="p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors">
                <h3 class="font-semibold text-lg mb-1">
                  <a href="${rootUrl}" target="_blank" class="hover:text-blue-600 transition-colors">${feed.title}</a>
                </h3>
                <a href="${feed.url}" target="_blank" class="text-sm text-gray-600 hover:text-blue-600 transition-colors break-all inline-flex items-center gap-2">
                  <svg class="w-3 h-3 flex-shrink-0" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z"/>
                  </svg>
                  ${feed.url}
                </a>
              </div>
            `;
          }).join('');
        } else {
          feedsList.innerHTML = '<div class="text-center py-8 text-gray-500">No feeds available yet.</div>';
        }
      } catch (error) {
        feedsList.innerHTML = '<div class="text-center py-8 text-red-600">Failed to load feeds. Please try again later.</div>';
      }
    }

    // Load feeds when page loads
    loadFeeds();

    document.getElementById('feedForm').addEventListener('submit', async (e) => {
      e.preventDefault();

      const url = document.getElementById('url').value;
      const messageDiv = document.getElementById('message');
      const submitBtn = e.target.querySelector('button[type="submit"]');

      // Show loading state
      submitBtn.disabled = true;
      submitBtn.textContent = 'Submitting...';
      messageDiv.classList.add('hidden');

      try {
        const response = await fetch('https://api.blogfeeds.net/add-feed', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ url })
        });

        const data = await response.json();

        if (response.ok) {
          messageDiv.className = 'mt-4 p-4 rounded-lg bg-green-100 text-green-800';
          messageDiv.textContent = 'Feed submitted successfully!';
          document.getElementById('url').value = '';
        } else {
          messageDiv.className = 'mt-4 p-4 rounded-lg bg-red-100 text-red-800';
          messageDiv.textContent = data.error || 'Failed to submit feed. Please try again.';
        }
      } catch (error) {
        messageDiv.className = 'mt-4 p-4 rounded-lg bg-red-100 text-red-800';
        messageDiv.textContent = 'Network error. Please try again.';
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Submit Feed';
        messageDiv.classList.remove('hidden');
      }
    });
  </script>
</body>
</html>
